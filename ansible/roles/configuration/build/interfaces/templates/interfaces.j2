#jinja2: lstrip_blocks: "True (or False)", trim_blocks: "True (or False)"
{#- ---------------------------------------------------------------------------------- #}
{# Interface configuration                                                             #}
{# ---------------------------------------------------------------------------------- -#}
interfaces {
    ge-0/0/0 {
        description "WAN interface";
        unit 0 {
{#- ---------------------------------------------------------------------------------- #}
{# L2 mode                                                                             #}
{# ---------------------------------------------------------------------------------- -#}
            {% if route_or_switch == "switch" %}
            family ethernet-switching {
                interface-mode access;
                vlan {
                    members {{ vlan_untrust }};
                }
            }
            {% endif %}
{#- ---------------------------------------------------------------------------------- #}
{# L3 mode                                                                             #}
{# ---------------------------------------------------------------------------------- -#}
            {% if route_or_switch == "route" %}
            family inet {
                address {{ wan_ipv4_address }}/30;
            }
            {% endif %}
        }
    }
}
